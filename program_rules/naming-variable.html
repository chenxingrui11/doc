<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>2.2. 变量命名</title>
<link rel="stylesheet" href="/docbook/includes/css/docbook.css" type="text/css">
<link rel="stylesheet" href="/stylesheets/master.css" type="text/css">
<link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="开发规范参考">
<link rel="up" href="naming.html" title="2. 命名规范">
<link rel="prev" href="naming-version.html" title="2.1. 版本号命名">
<link rel="next" href="naming-function.html" title="2.3. 函数命名">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<script language="javascript" type="text/javascript" src="/docbook/includes/js/header.js"></script><script language="javascript"> write_header("/docbook"); </script><div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">2.2. 变量命名</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="naming-version.html"><img src="/docbook/includes/images/docbook/prev.png" alt="上一页"></a> </td>
<th width="60%" align="center">2. 命名规范</th>
<td width="20%" align="right"> <a accesskey="n" href="naming-function.html"><img src="/docbook/includes/images/docbook/next.png" alt="下一页"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect2" lang="zh-cn">
<div class="titlepage"><div><div><h3 class="title">
<a name="naming-variable"></a>2.2. 变量命名</h3></div></div></div>
<div class="toc"><dl>
<dt><span class="sect3"><a href="naming-variable.html#idp4486096">2.2.1. 规则</a></span></dt>
<dt><span class="sect3"><a href="naming-variable.html#idp4512992">2.2.2. 实例</a></span></dt>
</dl></div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="idp4486096"></a>2.2.1. 规则</h4></div></div></div>
<p>
变量（还包括宏）的命名规则，比较系统和彻底的有 Windows 编程中用到的匈牙利命名法。匈牙利命名法通过在变量名前面加上相应的小写字母的符号标识作为前缀，标识出变量的作用域，类型等。这些符号可以多个同时使用，顺序是先m_（成员变量），再指针，再简单数据类型，再其他。例如：m_lpszStr, 表示指向一个以0字符结尾的字符串的长指针成员变量。

</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[提示]" src="/docbook/includes/images/docbook/tip.png"></td>
<th align="left"></th>
</tr>
<tr><td align="left" valign="top"><p>
有关匈牙利命名法的一点有意思的说明是它的名字的由来。这种命名技术是由一位能干的 Microsoft 程序员查尔斯·西蒙尼(Charles Simonyi) 提出的，他出生在匈牙利。在 Microsoft 公司中和他一起工作的人被教会使用这种约定。这对他们来说一切都很正常。但对那些 Simonyi 领导的项目组之外的人来说却感到很奇特，他们认为这是死板的表达方式，甚至说代有这样奇怪的外观是因为它是用匈牙利文写的。从此这种命名方式就被叫做匈牙利命名法。
</p></td></tr>
</table></div>
<p>
匈牙利命名法关键是：标识符的名字以一个或者多个小写字母开头作为前缀；前缀之后的是首字母大写的一个单词或多个单词组合，该单词要指明变量的用途。
</p>
<div class="segmentedlist">
<div class="title"><strong><span class="title">匈牙利命名法中常用的小写字母的前缀</span></strong></div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>a      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>数组 (Array)                                  </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>b      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>布尔值 (Boolean)                              </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>by     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>字节 (Byte)                                   </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>c      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>有符号字符 (Char)                             </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>cb     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>无符号字符 (Char Byte，没有多少人用)          </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>cr     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>颜色参考值 (ColorRef)                         </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>cx,cy  </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>坐标差（长度 ShortInt）                       </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>dw     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>Double Word                                   </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>fn     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>函数                                          </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>h      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>Handle                                        </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>i      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>整型                                          </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>l      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>长整型 (Long Int)                             </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>lp     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>Long Pointer                                  </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>m_     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>类的成员                                      </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>n      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>短整型 (Short Int)                            </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>np     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>Near Pointer                                  </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>p      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>Pointer                                       </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>s      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>字符串型                                      </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>sz     </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>以null做结尾的字符串型 (String with Zero End) </div>
</div>
<div class="seglistitem">
<div class="seg">
<strong><span class="segtitle">前　　缀: </span></strong>w      </div>
<div class="seg">
<strong><span class="segtitle">类　　型: </span></strong>Word                                          </div>
</div>
</div>
<p>
但是在任何情况下，都硬性规定使用匈牙利命名法是迂腐的。尤其是 Unix 编程，在使用没有变量名、关键字自动补齐功能的编辑器，如 vi 下，去敲入大小写混合的变量名是痛苦的。其实只要注意两个原则：1. 含义清晰，不易混淆； 2. 不和其它模块、系统API的命名空间相冲突即可。
</p>
<div class="orderedlist"><ol type="1">
<li>
<p>
有意识的为变量名、宏名加上本模块的关键字，就不至于和其它模块、系统API的命名空间相冲突；
</p>
<p>
例如: 宏的名称过短，如："DEBUG" 或 "_DEBUG"，很可能和别的模块，系统模块相冲突；
</p>
</li>
<li><p>
局部变量尤其是循环变量外，使用约定俗成的 i,j,k ，没有问题；
</p></li>
<li><p>
宏、常量、枚举enum，全部用大写字母；
</p></li>
<li>
<p>
全局变量加上前缀 "g"，后面跟上首字母大写的单词；
</p>
<p>
全局变量吗，费事一点可以谅解。
</p>
</li>
</ol></div>
</div>
<div class="sect3" lang="zh-cn">
<div class="titlepage"><div><div><h4 class="title">
<a name="idp4512992"></a>2.2.2. 实例</h4></div></div></div>
<p>
略...
</p>
</div>
</div>
<table class="copyright" border="0" cellpadding="0" cellspacing="0" width="100%">
<col width="33%">
<col width="33%">
<col width="33%">
<tr>
<td></td>
<td align="center" valign="center"></td>
<td align="right" valign="center"><p class="copyright">
      Copyright © 2006 <a href="http://www.worldhello.net/doc/"><b>WorldHello 开放文档之源</b> 计划</a></p></td>
</tr>
</table>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="naming-version.html"><img src="/docbook/includes/images/docbook/prev.png" alt="上一页"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="naming.html"><img src="/docbook/includes/images/docbook/up.png" alt="上一级"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="naming-function.html"><img src="/docbook/includes/images/docbook/next.png" alt="下一页"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">2.1. 版本号命名 </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="/docbook/includes/images/docbook/home.png" alt="首页"></a></td>
<td width="40%" align="right" valign="top"> 2.3. 函数命名</td>
</tr>
</table>
</div>
<script language="javascript" type="text/javascript" src="/docbook/includes/js/footer.js"></script><script language="javascript"> write_footer("/docbook"); </script>
</body>
</html>
